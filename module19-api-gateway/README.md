# [1] μ™ API Gatewayκ°€ ν•„μ”ν• κΉ?

### π ν„μ‹¤ μƒν™©

- λ°°λ‹¬μ•±μ—μ„ 'μ£Όλ¬Έν•κΈ°' λ²„νΌμ„ λλ €μ„ λ•ν΄λΌμ΄μ–ΈνΈ μ•±μ΄ μ²λ¦¬ν•΄μ•Ό ν•λ” μΌλ“¤

```
β”β”€β”€ π” μ‚¬μ©μ μΈμ¦ ν™•μΈ β†’ μΈμ¦ μ„λΉ„μ¤ νΈμ¶
β”β”€β”€ π’³ κ²°μ  μ²λ¦¬ β†’ κ²°μ  μ„λΉ„μ¤ νΈμ¶
β”β”€β”€ π μ¬κ³  ν™•μΈ λ° μ°¨κ° β†’ μ¬κ³  μ„λΉ„μ¤ νΈμ¶
β”β”€β”€ π λ°°μ†΅ μ •λ³΄ λ“±λ΅ β†’ λ°°μ†΅ μ„λΉ„μ¤ νΈμ¶
β”β”€β”€ π“± μ•λ¦Ό λ°μ†΅ β†’ μ•λ¦Ό μ„λΉ„μ¤ νΈμ¶
β””β”€β”€ π“ μ£Όλ¬Έ κΈ°λ΅ μ €μ¥ β†’ μ£Όλ¬Έ μ„λΉ„μ¤ νΈμ¶
```

### β λ¬Έμ μ λ“¤

- 6κ°μ μ„λ΅ λ‹¤λ¥Έ μ„λΉ„μ¤ μ£Όμ†λ¥Ό μ•μ•„μ•Ό ν•¨
- κ°κ° λ‹¤λ¥Έ μΈμ¦ λ°©μ‹κ³Ό λ°μ΄ν„° ν•μ‹
- λ„¤νΈμ›ν¬ μ”μ²­ 6λ² = λλ¦° μ‘λ‹µ
- ν• μ„λΉ„μ¤κ°€ λ³€κ²½λλ©΄ μ•±λ„ μμ •ν•΄μ•Ό ν•¨

<br/>

# [2] API Gatewayλ€

![alt text](image-1.png)

![alt text](image-2.png)

- API Gatewayλ” ν΄λΌμ΄μ–ΈνΈ(μ‚¬μ©μ, ν”„λ΅ νΈμ—”λ“)μ λ¨λ“  API μ”μ²­μ„ κ°€μ¥ λ¨Όμ € λ°›μ•„λ“¤μ΄λ” "κ΄€λ¬Έ" μ—­ν• μ„ ν•λ” μ„λ²„μ…λ‹λ‹¤.

- μ‚¬μ©μλ” λ³µμ΅ν• μ—¬λ¬ λ°±μ—”λ“ μ„λΉ„μ¤κ°€ μ¨μ–΄ μμ–΄λ„ ν•λ‚μ μ£Όμ†λ§ μ•λ©΄ λκ³ , Gatewayκ°€ μ•μ•„μ„ μ μ ν• μ„λΉ„μ¤λ΅ μ—°κ²°ν•΄μ¤λ‹λ‹¤.

### μμ‹) νΈν…”μ‚¬λ΅€

```
μ†λ‹(ν΄λΌμ΄μ–ΈνΈ) β†’ νΈν…” μ•λ‚΄λ°μ¤ν¬(API Gateway) β†’ κ° λ¶€μ„(λ§μ΄ν¬λ΅μ„λΉ„μ¤)
```

π¨ νΈν…” μ»¨μ‹μ–΄μ§€κ°€ ν•λ” μΌ:

- β… μ†λ‹μ€ μ»¨μ‹μ–΄μ§€μ—κ²λ§ μ”μ²­
- β… μ»¨μ‹μ–΄μ§€κ°€ μ μ ν• λ¶€μ„μ— μ—°κ²°
- β… λ¨λ“  μ‘λ‹µμ„ μ·¨ν•©ν•΄μ„ μ†λ‹μ—κ² μ „λ‹¬
- β… μ†λ‹μ€ λ³µμ΅ν• λ‚΄λ¶€ κµ¬μ΅°λ¥Ό λ°λΌλ„ λ¨

- λ³µμ΅ν• μ‹μ¤ν…μ€ μ•λ³΄μ΄κ² ν•κ³ , λ‹¨μν• μ°½κµ¬λ§ λ³΄μ—¬μ¤€λ‹¤!

<br/>

# [3] API κ²μ΄νΈμ›¨μ΄μ κΈ°λ¥

API κ²μ΄νΈμ›¨μ΄λ” μΌλ°μ μΌλ΅ λ‹¤μμ„ ν¬ν•¨ν•λ” κΈ°λ¥μ„ κµ¬ν„ν•¨

### 1)Β λ³΄μ• λ° μΈμ¦

- μΈμ¦, κ¶ν• λ¶€μ—¬, μ—‘μ„Έμ¤ μ μ–΄ λ° μ•”νΈν™”
- ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ κ²€μ¦ν•κ³  μΈμ¦ λ° κ¶ν• λ¶€μ—¬λ¥Ό μν–‰

### 2)Β λΌμ°ν… μ •μ±…

- λΌμ°ν…, μ†λ„ μ ν•, μ”μ²­/μ‘λ‹µ μ΅°μ‘, νλ΅ μ°¨λ‹¨κΈ°, λΈ”λ£¨-κ·Έλ¦° λ° μΉ΄λ‚λ¦¬μ•„ λ°°ν¬, A/B ν…μ¤νΈ, λ¶€ν• λ¶„μ‚°, μƒνƒ κ²€μ‚¬ λ° μ‚¬μ©μ μ •μ μ¤λ¥ μ²λ¦¬

### 3)Β λ΅κΉ… λ° λ¨λ‹ν„°λ§

- API νΈμ¶ λ° μ„λΉ„μ¤ μ„±λ¥μ„ λ¨λ‹ν„°λ§ν•λ©° λ΅κ·Έλ¥Ό κΈ°λ΅

μ¶”κ°€μ μΈ μ•± λ° API μμ¤€ λ³΄μ•μ„ μ„ν•΄ API κ²μ΄νΈμ›¨μ΄ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… λ°©ν™”λ²½(WAF) λ° μ„λΉ„μ¤ κ±°λ¶€(DoS) λ³΄νΈ κΈ°λ¥μΌλ΅ κ°•ν™”ν•  μ μμ

### 4) λ‹¨μΌ μ§„μ…μ  μ κ³µ

- λ¨λ“  API μ”μ²­μ„ **ν• κ³³ (Endpoint)**μ—μ„ λ°›μ•„λ“¤μ„
- Ex) api.XXX.comμΌλ΅ μ”μ²­ <br/>-> λ‚΄λ¶€μ—λ” Nκ°μ λ§μ΄ν¬λ΅μ„λΉ„μ¤λ΅ κµ¬μ„±

```
api.μ‡Όν•‘λ°.com/users     β†’ μ‚¬μ©μ μ„λΉ„μ¤
api.μ‡Όν•‘λ°.com/orders    β†’ μ£Όλ¬Έ μ„λΉ„μ¤
api.μ‡Όν•‘λ°.com/payments  β†’ κ²°μ  μ„λΉ„μ¤
api.μ‡Όν•‘λ°.com/products  β†’ μƒν’ μ„λΉ„μ¤

```

### 5) λ³µμ΅μ„± μ¶”μƒν™”

- ν΄λΌμ΄μ–ΈνΈλ” μ–΄λ–¤μ„λΉ„μ¤κ°€ μ–΄λ””μ— μλ”μ§€ λ°λΌλ„ κ΄μ°®λ‹¤
- μλ¥Όλ“¤μ–΄, κ²°μ  μ„λΉ„μ¤κ°€ `payment-v3`μ—μ„ `payment-v4`λ΅ λ°”λ€μ–΄λ„ ν΄λΌμ΄μ–ΈνΈμ—λ” μν–¥μ„ λ―ΈμΉμ§€ μ•λ”λ‹¤.

### 6) λ¶€ν•λ¶„μ‚°

- μ—¬λ¬ λ§μ΄ν¬λ΅μ„λΉ„μ¤λ΅ μ”μ²­μ„ μ „λ‹¬ν•κ³  κ²°κ³Όλ¥Ό μ§‘κ³„ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ—κ² λ°ν™

- API Gatewayλ” MSAμ—μ„, λ³µμ΅ν• λ§μ΄ν¬λ΅μ„λΉ„μ¤ μ•„ν‚¤ν…μ²λ¥Ό ν¨κ³Όμ μΌλ΅ κ΄€λ¦¬ν•κ³  ν™•μ¥ κ°€λ¥ν• μ„λΉ„μ¤λ¥Ό μ κ³µν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ κ°λ°μλ“¤μ€ κ° λ§μ΄ν¬λ΅μ„λΉ„μ¤μ ν•µμ‹¬ λΉ„μ¦λ‹μ¤ λ΅μ§μ— μ§‘μ¤‘ν•  μ μκ² λλ©°, μ „μ²΄ μ‹μ¤ν…μ μ μ§€λ³΄μ λ° ν™•μ¥μ΄ μ©μ΄ν•΄μ§‘λ‹λ‹¤.

# [4] API κ²μ΄νΈμ›¨μ΄μ μ΄μ 

### β API Gateway μ—†λ” κ²½μ°

```
[ν΄λΌμ΄μ–ΈνΈ]
    β”β”€β”€ β†’ μΈμ¦ μ„λΉ„μ¤ (auth.company.com:8001)
    β”β”€β”€ β†’ κ²°μ  μ„λΉ„μ¤ (payment.company.com:8002)
    β”β”€β”€ β†’ μ¬κ³  μ„λΉ„μ¤ (inventory.company.com:8003)
    β”β”€β”€ β†’ λ°°μ†΅ μ„λΉ„μ¤ (delivery.company.com:8004)
    β”β”€β”€ β†’ μ•λ¦Ό μ„λΉ„μ¤ (notification.company.com:8005)
    β””β”€β”€ β†’ μ£Όλ¬Έ μ„λΉ„μ¤ (order.company.com:8006)
```

### λ¬Έμ μ 

```
β 6κ° μ„λΉ„μ¤ μ£Όμ†λ¥Ό λ¨λ‘ μ•μ•„μ•Ό ν•¨
β κ°κ° λ‹¤λ¥Έ μΈμ¦ λ°©μ‹
β λ„¤νΈμ›ν¬ μ”μ²­ 6λ² (μ§€μ—°μ‹κ°„ μ¦κ°€)
β μ„λΉ„μ¤ λ³€κ²½ μ‹ ν΄λΌμ΄μ–ΈνΈλ„ μμ • ν•„μ”
```

### β… API Gateway μλ” κ²½μ°

```
[ν΄λΌμ΄μ–ΈνΈ] β†’ [API Gateway] β†’ [λ‚΄λ¶€ λ§μ΄ν¬λ΅μ„λΉ„μ¤λ“¤]
                    β†“
               api.company.com
                    β†“
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚          API Gateway                β”‚
    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”β”€β”€ β†’ μΈμ¦ μ„λΉ„μ¤ (λ‚΄λ¶€ λ„¤νΈμ›ν¬)
    β”β”€β”€ β†’ κ²°μ  μ„λΉ„μ¤ (λ‚΄λ¶€ λ„¤νΈμ›ν¬)
    β”β”€β”€ β†’ μ¬κ³  μ„λΉ„μ¤ (λ‚΄λ¶€ λ„¤νΈμ›ν¬)
    β”β”€β”€ β†’ λ°°μ†΅ μ„λΉ„μ¤ (λ‚΄λ¶€ λ„¤νΈμ›ν¬)
    β”β”€β”€ β†’ μ•λ¦Ό μ„λΉ„μ¤ (λ‚΄λ¶€ λ„¤νΈμ›ν¬)
    β””β”€β”€ β†’ μ£Όλ¬Έ μ„λΉ„μ¤ (λ‚΄λ¶€ λ„¤νΈμ›ν¬)
```

### μ¥μ 

```
β… ν•λ‚μ μ£Όμ†λ§ κΈ°μ–µ (api.company.com)
β… ν†µμΌλ μΈν„°νμ΄μ¤
β… λ°±μ—”λ“ λ³€κ²½μ΄ ν΄λΌμ΄μ–ΈνΈμ— μν–¥ μ—†μ
β… μ¤‘μ•™μ§‘μ¤‘μ‹ λ³΄μ• λ° λ¨λ‹ν„°λ§
```

# [5] μ‚¬μ© μ‚¬λ΅€

### π¬ Netflix

- μλ°± κ°μ λ§μ΄ν¬λ΅μ„λΉ„μ¤λ¥Ό API Gatewayλ΅ ν†µν•©
- κ°μΈν™” μ¶”μ², μ¤νΈλ¦¬λ°, κ²°μ  μ„λΉ„μ¤ κ΄€λ¦¬

### π— Uber

- μ‹¤μ‹κ°„ μ„μΉ, κ²°μ , λ§¤μΉ­ μ„λΉ„μ¤λ¥Ό ν•λ‚μ μ•±μΌλ΅ ν†µν•©
- μ „ μ„Έκ³„ μλ°±λ§ μ”μ²­μ„ μ•μ •μ μΌλ΅ μ²λ¦¬

### π›’ μ¨λΌμΈ μ‡Όν•‘λ°

- μƒν’ κ²€μƒ‰, μ¥λ°”κµ¬λ‹, κ²°μ , λ°°μ†΅ μ¶”μ μ„ λ‹¨μΌ APIλ΅ μ κ³µ

<br/>

# [6] π’° λ„μ… ν¨κ³Ό

### π“ κ°λ° μƒμ‚°μ„± ν–¥μƒ

- λ°±μ—”λ“ κ°λ°μ: λΉ„μ¦λ‹μ¤ λ΅μ§μ— μ§‘μ¤‘ κ°€λ¥
- ν”„λ΅ νΈμ—”λ“ κ°λ°μ: λ‹¨μΌ API μ—”λ“ν¬μΈνΈλ΅ κ°λ° λ‹¨μν™”

### β΅ μ„±λ¥ μµμ ν™”

- μ‘λ‹µ μ‹κ°„ κ°μ„  (μΊμ‹±, λ΅λ“λ°Έλ°μ‹±)
- μ„λ²„ λ¦¬μ†μ¤ ν¨μ¨μ  μ‚¬μ©

### π”’ λ³΄μ• κ°•ν™”

- μ¤‘μ•™μ§‘μ¤‘μ‹ λ³΄μ• μ •μ±… κ΄€λ¦¬
- λ³΄μ• μ‚¬κ³  λ€μ‘ μ‹κ°„ λ‹¨μ¶•

<br/>

# [7] μ£Όμμ‚¬ν•­ λ° ν•κ³„

### β οΈ κ³ λ ¤ν•΄μ•Ό ν•  λ‹¨μ λ“¤

π”΄ λ‹¨μΌ μ¥μ• μ  (Single Point of Failure)

- API Gateway λ‹¤μ΄ μ‹ μ „μ²΄ μ‹μ¤ν… μν–¥
- ν•΄κ²°μ±…: κ³ κ°€μ©μ„±(HA) κµ¬μ„±, μ΄μ¤‘ν™”

### β±οΈ μ¶”κ°€ μ§€μ—°μ‹κ°„

- ν• λ²μ ν™‰(hop) μ¶”κ°€λ΅ μ•½κ°„μ μ§€μ—° λ°μƒ
- ν•΄κ²°μ±…: μΊμ‹±, μµμ ν™”λ λΌμ°ν…

### π”§ μ„¤μ • λ³µμ΅μ„±

- μ΄κΈ° μ„¤μ •κ³Ό κ΄€λ¦¬μ λ³µμ΅μ„± μ¦κ°€
- ν•΄κ²°μ±…: λ‹¨κ³„μ  λ„μ…, μλ™ν™” λ„κµ¬ ν™μ©

<br/>

# API κ²μ΄νΈμ›¨μ΄ λ° λ§μ΄ν¬λ΅μ„λΉ„μ¤ μ•„ν‚¤ν…μ²

- λ§μ΄ν¬λ΅μ„λΉ„μ¤ κΈ°λ° μ• ν”λ¦¬μΌ€μ΄μ…μ κ²½μ° API κ²μ΄νΈμ›¨μ΄λ” μ‹μ¤ν…μ— λ€ν• λ‹¨μΌ μ§„μ…μ  μ—­ν• μ„ μν–‰ν•¨
- λ§μ΄ν¬λ΅μ„λΉ„μ¤ μ•μ— μ„μΉν•μ—¬ μ•±μ λ³µμ΅μ„±κ³Ό ν΄λΌμ΄μ–ΈνΈλ¥Ό λ¶„λ¦¬ν•¨μΌλ΅μ¨ ν΄λΌμ΄μ–ΈνΈ κµ¬ν„κ³Ό λ§μ΄ν¬λ΅μ„λΉ„μ¤ μ•±μ„ λ¨λ‘ λ‹¨μν™”ν•¨
- λ§μ΄ν¬λ΅μ„λΉ„μ¤ μ•„ν‚¤ν…μ²μ—μ„ API κ²μ΄νΈμ›¨μ΄λ” μ”μ²­ λΌμ°ν…, κµ¬μ„± λ° μ •μ±… μ‹ν–‰μ„ λ‹΄λ‹Ήν•¨.
  μΌλ¶€ μ”μ²­μ„ μ μ ν• λ°±μ—”λ“ μ„λΉ„μ¤λ΅ λΌμ°ν…ν•μ—¬ μ²λ¦¬ν•κ³ , λ‹¤λ¥Έ μ”μ²­μ€ μ—¬λ¬ λ°±μ—”λ“ μ„λΉ„μ¤λ¥Ό νΈμ¶ν•μ—¬ κ²°κ³Όλ¥Ό μ§‘κ³„ν•μ—¬ μ²λ¦¬ν•¨
- API κ²μ΄νΈμ›¨μ΄λ” μΈμ¦, κ¶ν• λ¶€μ—¬, λ¨λ‹ν„°λ§, λ¶€ν• λ¶„μ‚°, μ‘λ‹µ μ²λ¦¬μ™€ κ°™μ€ λ§μ΄ν¬λ΅μ„λΉ„μ¤μ— λ€ν• λ‹¤λ¥Έ κΈ°λ¥μ„ μ κ³µν•μ—¬ **λΉ„κΈ°λ¥μ  μ”κµ¬μ‚¬ν•­μ κµ¬ν„μ„ μΈν”„λΌ κ³„μΈµμΌλ΅ μ¤ν”„λ΅λ“ν•κ³  κ°λ°μκ°€ ν•µμ‹¬ λΉ„μ¦λ‹μ¤ λ΅μ§μ— μ§‘μ¤‘ν•  μ μλ„λ΅ λ•κ³  μ•± μ¶μ‹λ¥Ό κ°€μ†ν™”**ν•  μ μλ‹¤.
